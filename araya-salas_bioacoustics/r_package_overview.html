<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>r_package_overview.knit</title>
    <meta charset="utf-8" />
    <script src="r_package_overview_files/header-attrs/header-attrs.js"></script>
    <script src="r_package_overview_files/htmlwidgets/htmlwidgets.js"></script>
    <link href="r_package_overview_files/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
    <script src="r_package_overview_files/datatables-binding/datatables.js"></script>
    <script src="r_package_overview_files/jquery/jquery-3.6.0.min.js"></script>
    <link href="r_package_overview_files/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="r_package_overview_files/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="r_package_overview_files/dt-core/js/jquery.dataTables.min.js"></script>
    <link href="r_package_overview_files/crosstalk/css/crosstalk.min.css" rel="stylesheet" />
    <script src="r_package_overview_files/crosstalk/js/crosstalk.min.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">






class: center, middle
&lt;!-- background-image: url("imagenes/portada5.png") --&gt;
background-size: cover


# __Analysis of Bioacoustic Data (in R)__

#### EFI/ESA Statistical Methods Seminar Series 2022

&amp;nbsp; 

### Marcelo Araya-Salas PhD 
#### Neuroscience Research Center
#### University of Costa Rica


&lt;img src="imagenes/ucr_cin.png" width="500px"/&gt; 

---


## __Common research questions__

* &lt;font size="6"&gt;What is the &lt;b&gt;'acoustic' community&lt;/b&gt; in a habitat?&lt;/font&gt;

&amp;nbsp;
--

* &lt;font size="6"&gt;What &lt;b&gt;socio-ecological factors&lt;/b&gt; favor the evolution of &lt;b&gt;specific acoustic features&lt;/b&gt;? (e.g. complexity)&lt;/font&gt;

&amp;nbsp;
--

* &lt;font size="6"&gt;How the &lt;b&gt;transmission properties&lt;/b&gt; of the environment have shaped signal structure?&lt;/font&gt;

&amp;nbsp;
--

* &lt;font size="6"&gt;How animal acoustic signals &lt;b&gt;vary in space and time&lt;/b&gt;? why?&lt;/font&gt;

---


## __Acoustic analysis workflow__

&lt;center&gt;&lt;img src="imagenes/analysis_workflow1.png" height="500px" width="1100px"/&gt;&lt;/center&gt;
  

---


## __Acoustic analysis workflow__

&lt;center&gt;&lt;img src="imagenes/analysis_workflow2.png" height="500px" width="1100px"/&gt;&lt;/center&gt;
  

---


## __Acoustic analysis workflow__

&lt;center&gt;&lt;img src="imagenes/analysis_workflow3.png" height="500px" width="1100px"/&gt;&lt;/center&gt;
  
---

## __Acoustic analysis workflow__

&lt;center&gt;&lt;img src="imagenes/analysis_workflow4.png" height="500px" width="1100px"/&gt;&lt;/center&gt;
  
---

class: inverse, center, middle

# Sound file annotation

---

## __Annotation format__

Data frames with basic info about the position of signals in the recordings:

1. sound file name
1. annotation ID
1. start
1. end

&amp;nbsp;

<div id="htmlwidget-9522d34a484c9b029f1e" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-9522d34a484c9b029f1e">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["Phae.long1.wav","Phae.long1.wav","Phae.long1.wav","Phae.long2.wav","Phae.long2.wav"],[1,2,3,1,2],[1.16935492686256,2.15840849019842,0.343336570405113,0.159598267651446,1.45705847978551],[1.34238837651785,2.32145650374094,0.518255314152904,0.292169175936409,1.58320867656162]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>sound.files<\/th>\n      <th>selec<\/th>\n      <th>start<\/th>\n      <th>end<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":7,"dom":"none","columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[1,2,3]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[7,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'color':'black','background-color':'white','font-size':'65%'});\n}"}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.rowCallback"],"jsHooks":[]}</script>

---

## __Annotation format__

Data frames with basic info about the position of signals in the recordings:

1. sound file name
1. annotation ID
1. _channel_
1. start
1. end
1. _bottom frequency_
1. _top frequency_

<div id="htmlwidget-f117817845eac0679ad2" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-f117817845eac0679ad2">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["Phae.long1.wav","Phae.long1.wav","Phae.long1.wav","Phae.long2.wav","Phae.long2.wav"],[1,1,1,1,1],[1,2,3,1,2],[1.16935492686256,2.15840849019842,0.343336570405113,0.159598267651446,1.45705847978551],[1.34238837651785,2.32145650374094,0.518255314152904,0.292169175936409,1.58320867656162],[2.22010539116336,2.16943656262667,2.21829412537784,2.31686161124984,2.28400578262584],[8.60437778678557,8.80705310093231,8.75660402155342,8.82231567880142,8.88802733604942]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>sound.files<\/th>\n      <th>channel<\/th>\n      <th>selec<\/th>\n      <th>start<\/th>\n      <th>end<\/th>\n      <th>bottom.freq<\/th>\n      <th>top.freq<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":7,"dom":"none","columnDefs":[{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[1,2,3,4,5,6]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[7,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'color':'black','background-color':'white','font-size':'65%'});\n}"}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.rowCallback"],"jsHooks":[]}</script>

&amp;nbsp;

---

## __Annotate__

&amp;nbsp;

### 2 options:

- &lt;font size="6"&gt;&lt;i&gt;Manual&lt;/i&gt;: Raven (GUI) + &lt;b&gt;Rraven&lt;/b&gt; (R package)&lt;/font&gt;

&amp;nbsp;

- &lt;font size="6"&gt;&lt;i&gt;Automatic&lt;/i&gt;: &lt;b&gt;ohun&lt;/b&gt;&lt;/font&gt;


---


## __Raven + *Rraven*__

&lt;font size="6"&gt;&lt;b&gt;Raven:&lt;/b&gt; annotation GUI&lt;/font&gt;

&lt;center&gt;&lt;img src="imagenes/Raven.selec.gif" width="800px" class="center"/&gt; 

---


## __Raven + *Rraven*__

&lt;font size="6"&gt;&lt;b&gt;Rraven:&lt;/b&gt; import Raven annotation files&lt;/font&gt;





```r
# import into R
annotations &lt;- Rraven::imp_raven()

# check  
annotations
```

<div id="htmlwidget-8072fdf287c0e6a2f3d3" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-8072fdf287c0e6a2f3d3">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[[1,2,3,1,2,1,2,3,1,2,3,1,2,3,4,5,6,7,8,9,10,11],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1.16935492686256,2.15840849019842,0.343336570405113,0.159598267651446,1.45705847978551,0.626551953837213,1.97421320886793,0.12336428318987,1.51681158447286,2.93269198313136,0.145397660251226,1.169,2.158,0.343,0.16,1.457,0.627,1.974,0.123,1.517,2.933,0.145],[1.34238837651785,2.32145650374094,0.518255314152904,0.292169175936409,1.58320867656162,0.757771486486473,2.10439213435658,0.25458124007883,1.66223649507002,3.07687843223614,0.290496587417111,1.34203345,2.321048014,0.517918744,0.292570908,1.583150197,0.758219532,2.104178925,0.254216957,1.662424911,3.077186449,0.290098927],[2220.10539116336,2169.43656262667,2218.29412537784,2316.86161124984,2284.00578262584,3006.83401235379,2776.84321198581,2316.86161124984,2513.99658299382,2579.70824024182,2579.70824024182,2220.1,2169.4,2218.3,2316.9,2284,3006.8,2776.8,2316.9,2514,2579.7,2579.7],[8604.37778678557,8807.05310093231,8756.60402155342,8822.31567880142,8888.02733604942,8822.31567880142,8888.02733604942,9315.15310816139,9216.58562228939,10235.1163096333,9742.27888027336,8604.4,8807.1,8756.6,8822.3,8888,8822.3,8888,9315.2,9216.6,10235.1,9742.3],["Phae.long1.wav","Phae.long1.wav","Phae.long1.wav","Phae.long2.wav","Phae.long2.wav","Phae.long3.wav","Phae.long3.wav","Phae.long3.wav","Phae.long4.wav","Phae.long4.wav","Phae.long4.wav","Phae.long1.wav","Phae.long1.wav","Phae.long1.wav","Phae.long2.wav","Phae.long2.wav","Phae.long3.wav","Phae.long3.wav","Phae.long3.wav","Phae.long4.wav","Phae.long4.wav","Phae.long4.wav"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Selection<\/th>\n      <th>Channel<\/th>\n      <th>Begin Time (s)<\/th>\n      <th>End Time (s)<\/th>\n      <th>Low Freq (Hz)<\/th>\n      <th>High Freq (Hz)<\/th>\n      <th>Begin File<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":7,"dom":"none","columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[0,1,2,3,4,5]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[7,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'color':'black','background-color':'white','font-size':'65%'});\n}"}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.rowCallback"],"jsHooks":[]}</script>

---


## __Raven + *Rraven*__


&lt;font size="6"&gt;&lt;b&gt;Rraven&lt;/b&gt;: import Raven annotation files in &lt;b&gt;warbleR&lt;/b&gt; format&lt;/font&gt;


```r
# import into R
annotations &lt;- Rraven::imp_raven(warbler.format = TRUE)

# check  
annotations
```

<div id="htmlwidget-6768ec53c8451c61e120" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-6768ec53c8451c61e120">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["Phae.long1.wav","Phae.long1.wav","Phae.long1.wav","Phae.long2.wav","Phae.long2.wav","Phae.long3.wav","Phae.long3.wav","Phae.long3.wav","Phae.long4.wav","Phae.long4.wav","Phae.long4.wav","Phae.long1.wav","Phae.long1.wav","Phae.long1.wav","Phae.long2.wav","Phae.long2.wav","Phae.long3.wav","Phae.long3.wav","Phae.long3.wav","Phae.long4.wav","Phae.long4.wav","Phae.long4.wav"],[1,1,1,1,1,1,1,1,1,1,1,null,null,null,null,null,null,null,null,null,null,null],[1,2,3,1,2,1,2,3,1,2,3,1,2,3,4,5,6,7,8,9,10,11],[1.16935492686256,2.15840849019842,0.343336570405113,0.159598267651446,1.45705847978551,0.626551953837213,1.97421320886793,0.12336428318987,1.51681158447286,2.93269198313136,0.145397660251226,1.169,2.158,0.343,0.16,1.457,0.627,1.974,0.123,1.517,2.933,0.145],[1.34238837651785,2.32145650374094,0.518255314152904,0.292169175936409,1.58320867656162,0.757771486486473,2.10439213435658,0.25458124007883,1.66223649507002,3.07687843223614,0.290496587417111,1.34203345,2.321048014,0.517918744,0.292570908,1.583150197,0.758219532,2.104178925,0.254216957,1.662424911,3.077186449,0.290098927],[8.60437778678557,8.80705310093231,8.75660402155342,8.82231567880142,8.88802733604942,8.82231567880142,8.88802733604942,9.31515310816139,9.21658562228939,10.2351163096333,9.74227888027336,8.6044,8.8071,8.7566,8.8223,8.888,8.8223,8.888,9.3152,9.2166,10.2351,9.7423],[2.22010539116336,2.16943656262667,2.21829412537784,2.31686161124984,2.28400578262584,3.00683401235379,2.77684321198581,2.31686161124984,2.51399658299382,2.57970824024182,2.57970824024182,2.2201,2.1694,2.2183,2.3169,2.284,3.0068,2.7768,2.3169,2.514,2.5797,2.5797]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>sound.files<\/th>\n      <th>channel<\/th>\n      <th>selec<\/th>\n      <th>start<\/th>\n      <th>end<\/th>\n      <th>top.freq<\/th>\n      <th>bottom.freq<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":7,"dom":"none","columnDefs":[{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[1,2,3,4,5,6]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[7,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'color':'black','background-color':'white','font-size':'65%'});\n}"}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.rowCallback"],"jsHooks":[]}</script>

---

## __*Package ohun: automatic detection*__

### Main features:

- &lt;font size="5"&gt;&lt;b&gt;Reference annotations&lt;/b&gt; for detection &lt;b&gt;optimization&lt;/b&gt;&lt;/font&gt;

&amp;nbsp;

- &lt;font size="5"&gt;&lt;b&gt;Signal detection theory&lt;/b&gt; indices to evaluate detection performance (&lt;i&gt;TP, FP, FN, recall, precision, f1 score&lt;/i&gt;)&lt;/font&gt;

&amp;nbsp;

- &lt;font size="5"&gt;&lt;b&gt;Template-based&lt;/b&gt; and &lt;b&gt;energy-based detection&lt;/b&gt;&lt;/font&gt; 

---



## __*Package ohun*__

### Diagnosing detections:




&lt;img src="r_package_overview_files/figure-html/unnamed-chunk-10-1.png" width="100%" style="display: block; margin: auto 0 auto auto;" /&gt;

---

## __*Package ohun*__

### Diagnosing detections:

&lt;img src="r_package_overview_files/figure-html/unnamed-chunk-11-1.png" width="100%" style="display: block; margin: auto 0 auto auto;" /&gt;

---

## __*Package ohun*__

### Diagnosing detection:

<div id="htmlwidget-83aa213f6e425521d8ca" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-83aa213f6e425521d8ca">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[[7],[7],[0],[0.7],[1],[0.823529411764706]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>total.detections<\/th>\n      <th>true.positives<\/th>\n      <th>false.positives<\/th>\n      <th>recall<\/th>\n      <th>precision<\/th>\n      <th>f1.score<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"tip","columnDefs":[{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[0,1,2,3,4,5]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'color':'black','background-color':'white','font-size':'65%'});\n}"}},"evals":["options.columnDefs.0.render","options.rowCallback"],"jsHooks":[]}</script>

---

## __*Package ohun*__

### Template-based detection:


```r
# run correlator
correlations &lt;- ohun::template_correlator(templates = lbh1_reference[1, ], 
                            files = "lbh1.wav", path = getwd())

# detect
detection &lt;- ohun::template_detector(
  template.correlations = correlations, threshold = 0.3)
```


&lt;img src="r_package_overview_files/figure-html/unnamed-chunk-14-1.png" width="100%" /&gt;

---


## __Optimize detection__


```r
# run optimization
optimization &lt;- ohun::optimize_template_detector(template.correlations = correlations,
    reference = lbh1_reference, threshold = seq(0.1, 0.5, 0.1))

optimization
```


```
## 5 thresholds will be evaluated:
```

<div id="htmlwidget-2587051bde25d0f46388" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-2587051bde25d0f46388">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[[0.1,0.2,0.3,0.4,0.5],["lbh1.wav-10","lbh1.wav-10","lbh1.wav-10","lbh1.wav-10","lbh1.wav-10"],[45,34,16,10,10],[1,1,1,1,1],[0.50561797752809,0.62962962962963,0.941176470588235,1,1],[0.671641791044776,0.772727272727273,0.96969696969697,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>threshold<\/th>\n      <th>templates<\/th>\n      <th>total.detections<\/th>\n      <th>recall<\/th>\n      <th>precision<\/th>\n      <th>f1.score<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"tip","columnDefs":[{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[0,2,3,4,5]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'black','background-color':'white','font-size':'60%'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'black','background-color':'white','font-size':'60%'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'color':'black','background-color':'white','font-size':'60%'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'color':'black','background-color':'white','font-size':'60%'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'color':'black','background-color':'white','font-size':'60%'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'color':'black','background-color':'white','font-size':'60%'});\n}"}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.rowCallback"],"jsHooks":[]}</script>

---


## __Optimize detection__

Optimal detection


```r
detection &lt;- ohun::template_detector(template.correlations = correlations, threshold = 0.4)
```

&lt;img src="r_package_overview_files/figure-html/unnamed-chunk-18-1.png" width="100%" style="display: block; margin: auto 0 auto auto;" /&gt;

---

class: inverse, center, middle

# Feature extraction / Quantify variation

---

## __*Packages warble &amp; baRulho*__

### Main features:


- &lt;font size="5"&gt;&lt;b&gt;Iterates tasks&lt;/b&gt; through acoustic signals referenced in &lt;b&gt;annotation tables&lt;/b&gt;

&amp;nbsp;

&lt;center&gt;&lt;img src = "imagenes/loop_warbleR_optim.gif" alt = "warbleR measuring loop" width= "600"&gt;&lt;/center&gt;


---

## __*Packages warbleR &amp; baRulho*__


### Main features:

- &lt;font size="5"&gt;Create images files with &lt;b&gt;spectrograms&lt;/b&gt; that let users organize data and &lt;b&gt;verify acoustic analyzes&lt;/b&gt;:

&lt;center&gt;&lt;img src = "imagenes/loop_warbleR_images_optim.gif" alt = "warbleR image loop" width = "600"&gt;&lt;/center&gt;

---

## __*Package warbleR*: Quantify signal structure__


&lt;font size="5"&gt;&lt;b&gt;Spectral features&lt;/b&gt;: spectral and Mel frequency features&lt;/font&gt;





```r
spec_feat &lt;- warbleR::spectro_analysis(X = detection, bp = c(0, 11), wl = 100)
```

<div id="htmlwidget-55105d08a47b154e72bd" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-55105d08a47b154e72bd">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["lbh1.wav","lbh1.wav","lbh1.wav","lbh1.wav","lbh1.wav","lbh1.wav","lbh1.wav","lbh1.wav","lbh1.wav","lbh1.wav"],[1,2,3,4,5,6,7,8,9,10],[0.147886653,0.147886653,0.147886653,0.147886653,0.147886653,0.147886653,0.147886653,0.147886653,0.147886653,0.147886653],[5.95906486020358,5.97920027435896,5.85998195157848,5.86993507295275,5.79418063889643,6.05977382658261,5.88741579098908,6.11483710953282,5.96861968861425,5.82762885882774],[1.71931915034021,1.77904354902661,1.75503146570921,1.67064143439852,1.66809630594266,1.81091223671925,1.70393346663835,1.71570586032445,1.69005564540852,1.68281672457577],[5.98708487084871,6.02091020910209,5.85854858548585,5.77060270602706,5.62177121771218,6.01414514145141,5.79089790897909,6.02767527675277,5.79089790897909,5.68942189421894],[4.94526445264453,5.06027060270603,4.79643296432964,5.04674046740467,4.78966789667897,5.05350553505535,4.85731857318573,5.19557195571956,4.93849938499385,4.91820418204182],[7.01537515375154,7.16420664206642,7.0830258302583,6.81242312423124,6.88683886838868,7.24538745387454,7.09655596555966,7.15067650676507,6.98831488314883,6.89360393603936],[2.07011070110701,2.10393603936039,2.28659286592866,1.76568265682657,2.09717097170972,2.19188191881919,2.23923739237392,1.95510455104551,2.04981549815498,1.97539975399754],[0.0563222114242522,0.0633819241982507,0.0586869668502321,0.0657092466616276,0.0563394881762229,0.0610344455242414,0.06572940287226,0.06572940287226,0.0586869668502321,0.06572940287226],[0.03050786452147,0.0352121801101393,0.0305172227621207,0.0352013821401576,0.0281697440881114,0.0305172227621207,0.03286470143613,0.0352121801101393,0.0305172227621207,0.0352121801101393],[0.0915235935644099,0.100941582982399,0.100941582982399,0.0985638699924414,0.0868567109383436,0.09859410430839,0.103289061656409,0.100941582982399,0.107984019004427,0.105636540330418],[0.0610157290429399,0.06572940287226,0.0704243602202786,0.0633624878522838,0.0586869668502321,0.0680768815462693,0.0704243602202786,0.06572940287226,0.0774667962423064,0.0704243602202786],[1.83209921366335,1.84044187748777,1.79608209532096,2.6166567892869,2.03708742141797,1.96167613951567,2.23649699972272,2.24299633973855,1.88806454557618,2.20854741451905],[6.59354250852986,6.58704229883972,6.56891167732869,12.4564195501223,7.60289923731252,7.60945410464781,10.430276604175,8.96965917038199,6.22740761843154,8.63457898868332],[0.917531921920704,0.916972739409041,0.918400571047066,0.906144251925134,0.908137142441211,0.921289087874006,0.912694983260601,0.910388122399977,0.908423041654805,0.909686936182021],[0.915260844734752,0.916176366270617,0.916101377080728,0.915839262035259,0.914979170795902,0.916107739043314,0.91619760353659,0.916265685652168,0.916288821168846,0.916784013768589],[0.839781041928244,0.840108752360988,0.841348027847944,0.829882482980607,0.83092656955982,0.844000063297532,0.836208956423231,0.834157397180405,0.832377877960499,0.833986440625803],[0.397434902207837,0.399523452153642,0.412145333666837,0.379066603852881,0.37706299409161,0.422039711217769,0.371970586827358,0.389885198776065,0.398025571352755,0.413549305291478],[6.2015625,6.5564296875,6.174,6.2050078125,5.95525,6.497859375,6.1154296875,6.4806328125,6.318703125,6.29803125],[0.11025,4.29975,4.07925,4.07925,0.11025,4.29975,4.07925,4.07925,4.07925,4.29975],[8.26875,8.48925,8.26875,8.26875,8.26875,8.48925,8.48925,8.48925,8.26875,8.26875],[8.1585,4.1895,4.1895,4.1895,8.1585,4.1895,4.41,4.41,4.1895,3.969],[6.13513513513514,6.94736842105263,8.68421052631579,11,7.62162162162162,7.1578947368421,10.75,8.25,11.578947368421,8.33333333333333],[6.94575,6.50475,6.72525,6.50475,6.72525,6.28425,4.52025,6.72525,4.74075,6.50475],[0.11025,6.50475,6.50475,7.60725,0.11025,7.60725,5.62275,7.82775,6.50475,5.18175],[-46.2212096990252,0,-1.49100676448469,7.45503382242342,-44.7302029345405,8.9460405869081,7.45503382242342,7.45503382242342,11.9280541158775,-8.9460405869081],[6.06375,7.38675,7.38675,5.40225,5.18175,5.62275,6.06375,5.40225,5.40225,5.40225]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>sound.files<\/th>\n      <th>selec<\/th>\n      <th>duration<\/th>\n      <th>meanfreq<\/th>\n      <th>sd<\/th>\n      <th>freq.median<\/th>\n      <th>freq.Q25<\/th>\n      <th>freq.Q75<\/th>\n      <th>freq.IQR<\/th>\n      <th>time.median<\/th>\n      <th>time.Q25<\/th>\n      <th>time.Q75<\/th>\n      <th>time.IQR<\/th>\n      <th>skew<\/th>\n      <th>kurt<\/th>\n      <th>sp.ent<\/th>\n      <th>time.ent<\/th>\n      <th>entropy<\/th>\n      <th>sfm<\/th>\n      <th>meandom<\/th>\n      <th>mindom<\/th>\n      <th>maxdom<\/th>\n      <th>dfrange<\/th>\n      <th>modindx<\/th>\n      <th>startdom<\/th>\n      <th>enddom<\/th>\n      <th>dfslope<\/th>\n      <th>meanpeakf<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"f","columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":7,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":8,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":9,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":10,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":11,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":12,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":13,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":14,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":15,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":16,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":17,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":18,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":19,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":20,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":21,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":22,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":23,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":24,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":25,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":26,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":27,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[7]; $(this.api().cell(row, 7).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[8]; $(this.api().cell(row, 8).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[9]; $(this.api().cell(row, 9).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[10]; $(this.api().cell(row, 10).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[11]; $(this.api().cell(row, 11).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[12]; $(this.api().cell(row, 12).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[13]; $(this.api().cell(row, 13).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[14]; $(this.api().cell(row, 14).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[15]; $(this.api().cell(row, 15).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[16]; $(this.api().cell(row, 16).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[17]; $(this.api().cell(row, 17).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[18]; $(this.api().cell(row, 18).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[19]; $(this.api().cell(row, 19).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[20]; $(this.api().cell(row, 20).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[21]; $(this.api().cell(row, 21).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[22]; $(this.api().cell(row, 22).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[23]; $(this.api().cell(row, 23).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[24]; $(this.api().cell(row, 24).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[25]; $(this.api().cell(row, 25).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[26]; $(this.api().cell(row, 26).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[27]; $(this.api().cell(row, 27).node()).css({'color':'black','background-color':'white','font-size':'65%'});\n}"}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.columnDefs.4.render","options.columnDefs.5.render","options.columnDefs.6.render","options.columnDefs.7.render","options.columnDefs.8.render","options.columnDefs.9.render","options.columnDefs.10.render","options.columnDefs.11.render","options.columnDefs.12.render","options.columnDefs.13.render","options.columnDefs.14.render","options.columnDefs.15.render","options.columnDefs.16.render","options.columnDefs.17.render","options.columnDefs.18.render","options.columnDefs.19.render","options.columnDefs.20.render","options.columnDefs.21.render","options.columnDefs.22.render","options.columnDefs.23.render","options.columnDefs.24.render","options.columnDefs.25.render","options.rowCallback"],"jsHooks":[]}</script>

---


## __*Package warbleR*__

&lt;font size="5"&gt;&lt;b&gt;Pairwise acoustic similarity&lt;/b&gt;: time-frequency cross-correlation and dynamic time warping&lt;/font&gt;


```r
xcor_feat &lt;- warbleR::cross_correlation(X = detection, bp = c(0, 11), wl = 100)
```

<div id="htmlwidget-aa31ace21ecc4b847037" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-aa31ace21ecc4b847037">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["lbh1.wav-1","lbh1.wav-2","lbh1.wav-3","lbh1.wav-4","lbh1.wav-5"],[1,0.727905625518651,0.758759325619314,0.727756126337562,0.738862309004255],[0.727905625518651,1,0.767083931908229,0.789049826154067,0.664894442453005],[0.758759325619314,0.767083931908229,1,0.782094231914515,0.723757417689489],[0.727756126337562,0.789049826154067,0.782094231914515,1,0.701551159760187],[0.738862309004255,0.664894442453005,0.723757417689489,0.701551159760187,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>lbh1.wav-1<\/th>\n      <th>lbh1.wav-2<\/th>\n      <th>lbh1.wav-3<\/th>\n      <th>lbh1.wav-4<\/th>\n      <th>lbh1.wav-5<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"f","columnDefs":[{"targets":1,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[1,2,3,4,5]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\n}"}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.columnDefs.4.render","options.rowCallback"],"jsHooks":[]}</script>

---

## __*PhenotypeSpace*: Quantify acoustic spaces__

&lt;font size="5"&gt;&lt;b&gt;Useful for measuring latent space features:&lt;/font&gt;
&lt;img src="r_package_overview_files/figure-html/unnamed-chunk-24-1.png" width="100%" /&gt;

---


## __*PhenotypeSpace*: Quantify acoustic spaces__

&lt;font size="5"&gt;&lt;b&gt;Acoustic space similarity:&lt;/font&gt;


```r
# get minimum convex polygon overlap for each group (non-symmetric)
mcp_overlaps &lt;- PhenotypeSpace::space_similarity(
X = example_space,
dimensions =  c("Dimension_1", "Dimension_2"),
group = "ID",
type = "density.overlap")
```

<div id="htmlwidget-22c6e46bfc9a0c9ea10c" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-22c6e46bfc9a0c9ea10c">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["G1","G1","G1","G1","G2","G2","G2","G3","G3","G4"],["G2","G3","G4","G5","G3","G4","G5","G4","G5","G5"],[0.0792041622788367,1,0,0,1,0,0,0.0184207927102688,0,0.455407663721446],[0.0370476222872609,0.0639119544473023,0,0,0.121826356717555,0,0,0.0451936178958616,0,0.402753213145363]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>group.1<\/th>\n      <th>group.2<\/th>\n      <th>overlap.1in2<\/th>\n      <th>overlap.2in1<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"f","columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[2,3]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'color':'black','background-color':'white','font-size':'65%'});\n}"}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.rowCallback"],"jsHooks":[]}</script>

---

## __*PhenotypeSpace*: Quantify acoustic spaces__

&lt;font size="5"&gt;&lt;b&gt;Acoustic space similarity:&lt;/font&gt;


```r
# convert to non-symmetric triangular matrix
triang &lt;- PhenotypeSpace::rectangular_to_triangular(mcp_overlaps, symmetric = FALSE)
```

<div id="htmlwidget-9c8d59da6e1658858f82" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-9c8d59da6e1658858f82">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["G1","G2","G3","G4","G5"],[0,0.0370476222872609,0.0639119544473023,0,0],[0.0792041622788367,0,0.121826356717555,0,0],[1,1,0,0.0451936178958616,0],[0,0,0.0184207927102688,0,0.402753213145363],[0,0,0,0.455407663721446,0]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>G1<\/th>\n      <th>G2<\/th>\n      <th>G3<\/th>\n      <th>G4<\/th>\n      <th>G5<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"f","columnDefs":[{"targets":1,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[1,2,3,4,5]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'color':'black','background-color':'white','font-size':'65%'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'color':'black','background-color':'white','font-size':'65%'});\n}"}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.columnDefs.4.render","options.rowCallback"],"jsHooks":[]}</script>

---


## __Other acoustic analysis packages__

- &lt;font size="6"&gt;tuneR
- seewave
- bioacoustics
- monitoR
- scikit-maad (python)
- biosound (python)&lt;/font&gt;

---
class: inverse

## Acknowledgements

- ### __Grace-Smith Vidaurre (*warbleR*, *ohun*)__
- ### __Mattew Wilkins (*dynaSpec*)__
- ### __Jorge Elizondo, Erin Grabarczyk, Marcos Quiroz (*baRulho*)__ 
- ### __Karan Odom (*PhenotypeSpace*)__ 
- ### __Tim Wright (NMSU)__ 
- ### __Lab of Ornithology (Cornell University)__
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"slideNumberFormat": "%current%",
"highlightStyle": "github",
"highlightLines": true,
"ratio": "16:9",
"countIncrementalSlides": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
